{"version":3,"file":"bundle.js","sources":["../bundle/FetchFactory.js","../bundle/ElementFactory.js","../bundle/Utilities.js","../bundle/Events.js"],"sourcesContent":["/**\r\n * FetchFactory is responsible for handling API requests related to sources\r\n * and updating the DOM with the fetched data.\r\n */\r\nexport class FetchFactory {\r\n  static async fetchNewSource(host) {\r\n    return await fetch(`${host}api/new.php`)\r\n      .then((res) => res.json())\r\n      .then((sources) => {\r\n        return Object.entries(sources);\r\n      })\r\n      .catch((err) =>\r\n        console.error(\"Failed to fetch new sources :\", err.message)\r\n      );\r\n  }\r\n\r\n  static async fetchSources(host, isNsfw) {\r\n    return await fetch(`${host}api/sources.php?isNsfw=${isNsfw}`)\r\n      .then((res) => res.json())\r\n      .then((sources) => {\r\n        if (Object.entries(sources).length > 0) {\r\n          return Object.entries(sources);\r\n        } else {\r\n          throw new Exception(\"No folder available !\");\r\n        }\r\n      })\r\n      .catch((err) => console.error(\"Failed to fetch sources :\", err.message));\r\n  }\r\n\r\n  static async fetchLast(host, isNsfw = false, folder = false) {\r\n    return await fetch(`${host}api/last.php?isNsfw=${isNsfw}&folder=${folder}`)\r\n    .then((res) => res.json())\r\n    .then((contents) => {      \r\n      if(contents.length > 24){\r\n        return Array.from(contents).slice(0,24);\r\n      } else if (contents.length > 0){\r\n        return Array.from(contents);\r\n      } else {\r\n        throw new Exception(\"No recent addition!\");\r\n      }\r\n    });\r\n  }\r\n\r\n  static async fetchFolders(host, link) {\r\n    return await fetch(`${host}api/folders.php`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      body: new URLSearchParams({ source: link }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((folders) => {\r\n        if (Object.entries(folders).length > 0) {\r\n          return Object.entries(folders);\r\n        } else {\r\n          return [];\r\n        }\r\n      })\r\n      .catch((err) => console.error(\"Failed to fetch folders :\", err.message));\r\n  }\r\n\r\n  static async fetchThumbnails(host, link) {\r\n    return await fetch(`${host}api/thumbnails.php`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      body: new URLSearchParams({ source: link }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((thumbnails) => {\r\n        if (Object.entries(thumbnails).length > 0) {\r\n          return Object.entries(thumbnails);\r\n        } else {\r\n          return [];\r\n        }\r\n      })\r\n      .catch((err) => console.error(\"Failed to fetch folders :\", err.message));\r\n  }\r\n}\r\n","/**\r\n * ElementFactory is a utility class for creating common DOM elements\r\n * used in the Gposes application, such as headers, navigation bars, subheaders, and repositories.\r\n */\r\nexport class ElementFactory {\r\n  /**\r\n   * Creates the main header element for the application.\r\n   * The header contains a navigation bar.\r\n   * @returns {HTMLElement} The header element.\r\n   */\r\n  static createHeader() {\r\n    const header = document.createElement(\"header\");\r\n    // Append the navigation bar to the header\r\n    header.appendChild(this.createNavbar());\r\n    return header;\r\n  }\r\n\r\n  /**\r\n   * Creates a loading spinner element with accessible status messages.\r\n   * @returns {HTMLElement} The spinner container element.\r\n   */\r\n  static createSpinner() {\r\n    // Loading Indicators\r\n    // Accessible status messages\r\n    const spinnerLoad = document.createElement(\"div\");\r\n    spinnerLoad.id = \"spinnerLoad\";\r\n    spinnerLoad.className = \"loading-text\";\r\n    spinnerLoad.setAttribute(\"role\", \"status\");\r\n    spinnerLoad.setAttribute(\"aria-live\", \"polite\");\r\n    spinnerLoad.innerHTML = \"Loading<div id='progressMore'></div>\";\r\n\r\n    const spinnerNumber = document.createElement(\"div\");\r\n    spinnerNumber.id = \"spinnerNumber\";\r\n    spinnerNumber.className = \"loading-text\";\r\n    spinnerNumber.setAttribute(\"aria-live\", \"polite\");\r\n\r\n    const spinnersContainer = document.createElement(\"div\");\r\n    spinnersContainer.id = \"spinner\";\r\n    spinnersContainer.className = spinnersContainer.id + \" loading\";\r\n    spinnersContainer.appendChild(spinnerLoad);\r\n    spinnersContainer.appendChild(spinnerNumber);\r\n\r\n    return spinnersContainer;\r\n  }\r\n\r\n  /**\r\n   * Creates a navigation bar element.\r\n   * The navigation bar contains a heading, navigation links, and NSFW/SFW radio options.\r\n   * @returns {HTMLElement} The nav element.\r\n   */\r\n  static createNavbar() {\r\n    const nav = document.createElement(\"nav\");\r\n    // Assign the 'navbar' class to the nav element\r\n    nav.classList = \"navbar\";\r\n    // Set an ARIA role description for accessibility\r\n    nav.ariaRoleDescription = \"Navigation bar\";\r\n\r\n    // Create and append the heading to the nav\r\n    const h2 = document.createElement(\"h2\");\r\n    h2.innerText = \"Gposes Xplorer\";\r\n    nav.appendChild(h2);\r\n\r\n    // Navigation links (Index, Back)\r\n    const ul = document.createElement(\"ul\");\r\n    ul.innerHTML = `<li title=\"Index\"><span class=\"material-symbols-outlined\">home</span></li>`\r\n    +`<li title=\"Back\"><span class=\"material-symbols-outlined\">subdirectory_arrow_left</span></li>`;\r\n    nav.appendChild(ul);\r\n\r\n    // NSFW/SFW radio options\r\n    const options = document.createElement(\"ul\");\r\n    options.innerHTML =\r\n      \"<li><input type='radio' id='isNsfwFalse' name='isNSFW' value='false'><label for='isNsfwFalse'>SFW</label></li>\" +\r\n      \"<li><input type='radio' id='isNsfwTrue' name='isNSFW' value='true'><label for='isNsfwTrue'>NSFW</label></li>\";\r\n    nav.appendChild(options);\r\n\r\n    return nav;\r\n  }\r\n\r\n  /**\r\n   * Creates the main repository container element.\r\n   * @returns {HTMLElement} The repository div.\r\n   */\r\n  static createRepository() {\r\n    const repo = document.createElement(\"div\");\r\n    repo.classList = \"repository\";\r\n    return repo;\r\n  }\r\n\r\n  /**\r\n   * Creates a folder card element for a source folder.\r\n   * @param {string} name - The folder name.\r\n   * @param {string} link - The folder path.\r\n   * @param {string} preview - The preview image path.\r\n   * @returns {HTMLElement} The folder card element.\r\n   */\r\n  static createSourceFolder(name = \"\", link = \"\", preview = \"\") {\r\n    const folder = document.createElement(\"div\");\r\n    folder.dataset.title = name;\r\n    folder.dataset.link = link;\r\n    folder.className = \"card\";\r\n    folder.title = `Open the \"${name}\" folder`;\r\n\r\n    // Image container\r\n    const container = document.createElement(\"div\");\r\n    container.classList = \"img-div\";\r\n    folder.append(container);\r\n\r\n    // Folder preview image\r\n    const img = document.createElement(\"img\");\r\n    img.src = preview;\r\n    if (preview === \"./assets/img/folder.png\") img.classList = \"folder\";\r\n    img.alt = preview.split(\"/\").pop();\r\n    container.appendChild(img);\r\n\r\n    // Adjust image style if image is short\r\n    img.onload = function () {\r\n      if (img.naturalHeight < 250) {\r\n        img.classList = \"fullheight\";\r\n        container.style.display = \"flex\";\r\n        container.style.justifyContent = \"center\";\r\n      }\r\n    };\r\n\r\n    // Overlay for hover effects or additional info\r\n    const overlay = document.createElement(\"div\");\r\n    overlay.classList = \"overlay\";\r\n    container.appendChild(overlay);\r\n\r\n    return folder;\r\n  }\r\n\r\n  /**\r\n   * Creates a card element for a picture/thumbnail.\r\n   * @param {string} host - The host URL prefix.\r\n   * @param {string} link - The image link.\r\n   * @param {string} preview - The preview image path.\r\n   * @returns {HTMLElement} The picture card element.\r\n   */\r\n  static createPicture(host = \"\", link = \"\", preview = \"\") {\r\n    const folder = document.createElement(\"div\");\r\n    folder.dataset.title = link.split(\"/\").pop();\r\n    folder.className = \"card\";\r\n    folder.title = `Show the \"${folder.dataset.title}\" picture`;\r\n\r\n    // Image anchor container\r\n    const container = document.createElement(\"a\");\r\n    container.classList = \"img-div\";\r\n    container.href = link.replace(\"../\", host);\r\n    container.target = \"_blank\";\r\n    folder.append(container);\r\n\r\n    // Preview image\r\n    const img = document.createElement(\"img\");\r\n    img.src = preview.replace(\"../\", host);\r\n    img.loading = \"lazy\";\r\n    img.alt = preview.split(\"/\").pop();\r\n    container.appendChild(img);\r\n\r\n    // Adjust image style if image is short\r\n    img.onload = function () {\r\n      if (img.naturalHeight < 250) {\r\n        img.classList = \"fullheight\";\r\n        container.style.display = \"flex\";\r\n        container.style.justifyContent = \"center\";\r\n      }\r\n    };\r\n\r\n    return folder;\r\n  }\r\n\r\n  static createDownloadButton(host = \"\", link = \"\"){\r\n    const container = document.createElement(\"div\");\r\n    container.classList = \"download\";\r\n    container.title = \"Download pictures as zip file\";\r\n\r\n    const anchor = document.createElement(\"a\");\r\n    anchor.innerHTML = `<span class=\"material-symbols-outlined\">folder_zip</span>`;\r\n    anchor.href = `${host}api/zip.php?folder=${encodeURI(link)}`;\r\n    container.appendChild(anchor);\r\n\r\n    console.log(\"https://naslku.synology.me/gposesXplorerAPI/api/zip.php?folder=Trivia%2F1.SFW\");\r\n    console.log(anchor.href);\r\n\r\n    return container;\r\n  }\r\n\r\n  /**\r\n   * Creates a horizontal separator element.\r\n   * @returns {HTMLElement} The separator hr element.\r\n   */\r\n  static createSeparation() {\r\n    const hr = document.createElement(\"hr\");\r\n    hr.classList = \"separator\";\r\n    return hr;\r\n  }\r\n\r\n  /**\r\n   * Updates the visibility of carousel navigation buttons based on scroll position.\r\n   */\r\n  static updateCarouselButton() {\r\n    const tolerance = 600;\r\n    const container = document.querySelector(\".carousel-container\");\r\n    // Hide right button if scrolled to the end\r\n    if (\r\n      container.scrollLeft - (container.scrollWidth - container.clientWidth) >\r\n        -tolerance &&\r\n      !document.querySelector(\".btnRight\").classList.contains(\"hidden\")\r\n    ) {\r\n      document.querySelector(\".btnRight\").classList.add(\"hidden\");\r\n    } else if (\r\n      container.scrollLeft - (container.scrollWidth - container.clientWidth) <\r\n      -tolerance\r\n    ) {\r\n      document.querySelector(\".btnRight\").classList.remove(\"hidden\");\r\n    }\r\n\r\n    // Hide left button if scrolled to the start\r\n    if (\r\n      container.scrollLeft < tolerance &&\r\n      !document.querySelector(\".btnLeft\").classList.contains(\"hidden\")\r\n    ) {\r\n      document.querySelector(\".btnLeft\").classList.add(\"hidden\");\r\n    } else if (container.scrollLeft > tolerance) {\r\n      document.querySelector(\".btnLeft\").classList.remove(\"hidden\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Scrolls the carousel container left or right.\r\n   * @param {number} direction - -1 for left, 1 for right.\r\n   */\r\n  static scrollCarousel(direction) {\r\n    const container = document.querySelector(\".carousel-container\");\r\n    const scrollAmount = container.offsetWidth;\r\n    container.scrollBy({\r\n      left: direction * scrollAmount,\r\n      behavior: \"smooth\",\r\n    });\r\n\r\n    // Update button visibility after scrolling\r\n    setTimeout(() => {this.updateCarouselButton();}, 500);\r\n  }\r\n\r\n  /**\r\n   * Creates a carousel element with navigation buttons and a tracker.\r\n   * @returns {HTMLElement} The carousel element.\r\n   */\r\n  static createCarousel() {\r\n    const carousel = document.createElement(\"div\");\r\n    carousel.classList = \"carousel\";\r\n\r\n    // Main container for carousel items\r\n    const container = document.createElement(\"div\");\r\n    container.classList = \"carousel-container\";\r\n    carousel.appendChild(container);\r\n\r\n    // Tracker for carousel position (optional)\r\n    const tracker = document.createElement(\"div\");\r\n    tracker.classList = \"carousel-tracker\";\r\n    container.appendChild(tracker);\r\n\r\n    // Left navigation button\r\n    const btnLeft = document.createElement(\"button\");\r\n    btnLeft.innerHTML = `<span class=\"material-symbols-outlined\">arrow_back</span>`;\r\n    btnLeft.classList = \"btn btnLeft\";\r\n    btnLeft.title = \"Nextly added\";\r\n    btnLeft.addEventListener(\"click\", () => {\r\n      this.scrollCarousel(-1);\r\n    });\r\n    carousel.appendChild(btnLeft);\r\n\r\n    // Right navigation button\r\n    const btnRight = document.createElement(\"button\");\r\n    btnRight.innerHTML = `<span class=\"material-symbols-outlined\">arrow_forward</span>`;\r\n    btnRight.classList = \"btn btnRight\";\r\n    btnRight.title = \"Previously added\";\r\n    btnRight.addEventListener(\"click\", () => {\r\n      this.scrollCarousel(1);\r\n    });\r\n    carousel.appendChild(btnRight);\r\n\r\n    return carousel;\r\n  }\r\n\r\n  /**\r\n   * Creates a carousel populated with recent items.\r\n   * @param {string} host - The host URL prefix.\r\n   * @param {Array} recentArray - Array of recent item objects.\r\n   * @returns {HTMLElement} The carousel element with recent items.\r\n   */\r\n  static createRecentCarousel(host, recentArray = []) {\r\n    const carousel = this.createCarousel();\r\n    Array.from(recentArray).forEach((addition) => {\r\n      const link = `${addition.folder}/${addition.name}`;\r\n      const preview =\r\n        addition.preview !== \"./assets/img/folder.png\"\r\n          ? encodeURI(`${host}${addition.preview}`)\r\n          : \"./assets/img/folder.png\";\r\n      // Add each recent item as a source folder card to the carousel\r\n      carousel.firstChild.firstChild.appendChild(\r\n        this.createSourceFolder(addition.name, link, preview)\r\n      );\r\n    });\r\n    return carousel;\r\n  }\r\n}\r\n","import { FetchFactory } from \"./FetchFactory\";\r\nimport { ElementFactory } from \"./ElementFactory\";\r\n\r\n/**\r\n * Utilities class provides static helper methods for navigation,\r\n * loading content, managing NSFW state, and UI updates in Gposes Xplorer.\r\n */\r\nexport class Utilities {\r\n  /**\r\n   * Global flag indicating if NSFW mode is enabled.\r\n   * Set via setIsNsfw() based on URL and welcome page status.\r\n   * @type {boolean}\r\n   */\r\n  static isNsfw = false;\r\n\r\n  /**\r\n   * Sets NSFW (Not Safe For Work) flag based on URL parameters.\r\n   * Checks both welcome page status and \"isNsfw\" query parameter.\r\n   * Modifies global `isNsfw` variable.\r\n   * Requires `isWelcomePage()` to be true for NSFW flag activation.\r\n   */\r\n  static setIsNsfw() {\r\n    const searchParams = new URLSearchParams(window.location.search);\r\n    // Only enable NSFW if on the welcome page and query param isNsfw=true\r\n    this.isNsfw = this.isWelcomePage() && searchParams.get(\"isNsfw\") === \"true\";\r\n  }\r\n\r\n  static get WELCOME_TITLE() {\r\n    return \"Welcome | Gposes Xplorer\";\r\n  }\r\n\r\n  static isWelcomePage() {\r\n    return document.title === this.WELCOME_TITLE;\r\n  }\r\n\r\n  static setDocumentTitle(title = \"\") {\r\n    document.title = title;\r\n  }\r\n\r\n  static getLinkTitle(link = \"\") {\r\n    let title = \"\";\r\n    if (link !== null) {\r\n      if (\r\n        link.split(\"/\").pop() === \"1.SFW\" ||\r\n        link.split(\"/\").pop() === \"2.NSFW\"\r\n      ) {\r\n        title = link.split(\"/\")[0];\r\n      } else {\r\n        title = link.split(\"/\").pop();\r\n      }\r\n    }\r\n    return title;\r\n  }\r\n\r\n  /**\r\n   * No search params => ['Welcome', null]\r\n   * ?folder=Gifts%2F1.SFW => ['Gifts', 'Gifts/1.SFW']\r\n   * ?folder=Gifts%2F1.SFW%2FMiphie => ['Miphie', 'Gifts/1.SFW/Miphie']\r\n   */\r\n  static getFolder() {\r\n    const searchParams = new URLSearchParams(window.location.search);\r\n    const link = searchParams.get(\"folder\");\r\n\r\n    return [this.getLinkTitle(link), link];\r\n  }\r\n\r\n  static loadContent(host = \"\") {\r\n    this.setIsNsfw();\r\n    const content = this.getFolder();\r\n    if (content[1] !== null) {\r\n      document.querySelector(\"header ul:nth-child(3)\").style.visibility =\r\n        \"hidden\";\r\n      document.querySelector(\"header ul:nth-child(2)\").style.visibility =\r\n        \"visible\";\r\n      if (\r\n        content[1].split(\"/\").pop() === content[0] &&\r\n        content[1].split(\"/\").length > 1\r\n      ) {\r\n        document.querySelector(\r\n          \"header ul:nth-child(2) li:nth-child(2)\"\r\n        ).style.display = \"block\";\r\n      } else {\r\n        document.querySelector(\r\n          \"header ul:nth-child(2) li:nth-child(2)\"\r\n        ).style.display = \"none\";\r\n      }\r\n      this.setDocumentTitle(`${content[0]} | Gposes Xplorer`);\r\n      this.loadFolder(host, content[1]);\r\n    } else {\r\n      const searchParams = new URLSearchParams(window.location.search);\r\n      document.querySelector(\r\n        `header ul input[name='isNSFW'][value='${this.isNsfw}']`\r\n      ).checked = true;\r\n      document.querySelector(\"header ul:nth-child(3)\").style.visibility =\r\n        searchParams.get(\"isNsfw\") === null ? \"hidden\" : \"visible\";\r\n      document.querySelector(\"header ul:nth-child(2)\").style.visibility =\r\n        \"hidden\";\r\n      this.setDocumentTitle(this.WELCOME_TITLE);\r\n      this.loadSources(host);\r\n    }\r\n  }\r\n\r\n  static async loadSources(host = \"\") {\r\n    const repository = document.querySelector(\".repository\");\r\n    repository.innerHTML = \"<span></span>\";\r\n\r\n    const spinner = ElementFactory.createSpinner();\r\n    document.body.appendChild(spinner);\r\n\r\n    repository.innerHTML += \"<h3>Last addition</h3>\";\r\n    await FetchFactory.fetchLast(host, this.isNsfw, true)\r\n      .then((additions) => {\r\n        const carousel = ElementFactory.createRecentCarousel(host, additions);\r\n        repository.appendChild(carousel);\r\n\r\n        Array.from(carousel.querySelectorAll(\".card\")).forEach((card, idx) => {\r\n          card.addEventListener(\"click\", () => {\r\n            this.goToFolder(card.dataset.link);\r\n          });\r\n        });\r\n\r\n        repository.appendChild(ElementFactory.createSeparation());\r\n      })\r\n      .catch((err) => console.error(err.message));\r\n\r\n      const h3 = document.createElement('h3');\r\n      h3.innerHTML = 'Sources';\r\n      repository.appendChild(h3);\r\n\r\n    const collator = new Intl.Collator(\"en\", {\r\n      numeric: true,\r\n      sensitivity: \"base\",\r\n    });\r\n    await FetchFactory.fetchSources(host, this.isNsfw).then((sources) => {\r\n      const sortedSources = sources.sort((a, b) =>\r\n        collator.compare(a[0], b[0])\r\n      );\r\n      sources.forEach((source) => {\r\n        let preview = source[1];\r\n        if (source[1] !== \"../assets/img/folder.png\") {\r\n          preview = source[1].replace(\"../\", host);\r\n        }\r\n\r\n        const sourceFolder = ElementFactory.createSourceFolder(\r\n          this.getLinkTitle(source[0]),\r\n          source[0],\r\n          preview\r\n        );\r\n        sourceFolder.addEventListener(\"click\", () => {\r\n          this.goToFolder(source[0]);\r\n        });\r\n\r\n        repository.appendChild(sourceFolder);\r\n      });\r\n\r\n      const maxItems = Math.max(...this.itemsPerFlexRow(repository));\r\n      Array.from(document.querySelectorAll('.carousel .card')).forEach((card) => {\r\n        card.style = `--max-items: ${maxItems}`;\r\n      });\r\n      ElementFactory.updateCarouselButton();\r\n    });\r\n    \r\n    spinner.remove();\r\n  }\r\n\r\n  static async loadFolder(host = \"\", link = \"\") {\r\n    const repository = document.querySelector(\".repository\");\r\n    repository.innerHTML = \"\";\r\n\r\n    const spinner = ElementFactory.createSpinner();\r\n    document.body.appendChild(spinner);\r\n\r\n    const collator = new Intl.Collator(\"en\", {\r\n      numeric: true,\r\n      sensitivity: \"base\",\r\n    });\r\n    await FetchFactory.fetchFolders(host, link).then((folders) => {\r\n      const sortedFolders = folders.sort((a, b) =>\r\n        collator.compare(a[0], b[0])\r\n      );\r\n      sortedFolders.forEach((folder) => {\r\n        let preview = folder[1];\r\n        if (folder[1] !== \"../assets/img/folder.png\") {\r\n          preview = folder[1].replace(\"../\", host);\r\n        }\r\n\r\n        const folderContent = ElementFactory.createSourceFolder(\r\n          this.getLinkTitle(folder[0]),\r\n          link + \"/\" + folder[0],\r\n          preview\r\n        );\r\n\r\n        folderContent.addEventListener(\"click\", () => {\r\n          this.goToFolder(link + \"/\" + folder[0]);\r\n        });\r\n\r\n        repository.appendChild(folderContent);\r\n      });\r\n\r\n      if (folders.length > 0) {\r\n        repository.appendChild(ElementFactory.createSeparation());\r\n      }\r\n    });\r\n\r\n    await FetchFactory.fetchThumbnails(host, link).then((thumbnails) => {\r\n      const sortedThumbnails = thumbnails.sort((a, b) =>\r\n        collator.compare(a[1][0], b[1][0])\r\n      );\r\n      sortedThumbnails.forEach((thumbnail) => {\r\n        repository.appendChild(\r\n          ElementFactory.createPicture(\r\n            host,\r\n            thumbnail[1][0].replace(\"../\", host),\r\n            thumbnail[1][1].replace(\"../\", host)\r\n          )\r\n        );\r\n      });\r\n      if (thumbnails.length === 0) {\r\n        repository.querySelector(\".separator\").remove();\r\n      }\r\n    });\r\n    spinner.remove();\r\n    repository.appendChild(ElementFactory.createDownloadButton(host, link));\r\n  }\r\n\r\n  static initMainParts(host = \"\") {\r\n    FetchFactory.fetchNewSource(host).then((news) => {\r\n      if (news.length > 0) {\r\n        console.warn(\"New sources added: \", news.concat(\", \"));\r\n      }\r\n    });\r\n\r\n    const header = ElementFactory.createHeader();\r\n    document.body.appendChild(header);\r\n    header.querySelector(\"ul:nth-child(2) li\").addEventListener(\"click\", () => {\r\n      this.returnIndex();\r\n    });\r\n    header\r\n      .querySelector(\"ul:nth-child(2) li:nth-child(2)\")\r\n      .addEventListener(\"click\", () => {\r\n        this.goBack();\r\n      });\r\n\r\n    Array.from(\r\n      document.querySelectorAll(\"header ul:nth-child(3) li label\")\r\n    ).forEach((label) => {\r\n      label.addEventListener(\"click\", (event) => {\r\n        this.changeNsfwPart(event.currentTarget.previousElementSibling.value);\r\n      });\r\n    });\r\n\r\n    document.body.appendChild(ElementFactory.createRepository());\r\n  }\r\n\r\n  static goToFolder(link) {\r\n    const state = { data: \"optional state object\" };\r\n    const title = this.getLinkTitle(link);\r\n    const searchParams = new URLSearchParams(window.location.search);\r\n    searchParams.set(\"folder\", link);\r\n\r\n    const newUrl =\r\n      `${document.location.pathname}` +\r\n      (searchParams.toString() === \"\" ? \"\" : \"?\") +\r\n      `${searchParams.toString()}`;\r\n    history.pushState(state, title, newUrl);\r\n    this.setDocumentTitle(title);\r\n  }\r\n\r\n  static goBack() {\r\n    const searchParams = new URLSearchParams(window.location.search);\r\n    const folder = searchParams.get(\"folder\");\r\n    this.goToFolder(folder.split(\"/\").slice(0, -1).join(\"/\"));\r\n    setTimeout(\r\n      () =>\r\n        {\r\n          document\r\n          .querySelector(`[data-link=\"${folder}\"]`)\r\n          .scrollIntoView({ behavior: \"smooth\", block: \"nearest\" });\r\n          scrollY(0);\r\n        },\r\n      500\r\n    );\r\n  }\r\n\r\n  static returnIndex() {\r\n    const state = { data: \"optional state object\" };\r\n    const title = this.WELCOME_TITLE;\r\n    const searchParams = new URLSearchParams(window.location.search);\r\n    searchParams.delete(\"folder\");\r\n\r\n    const newUrl =\r\n      `${document.location.pathname}` +\r\n      (searchParams.toString() === \"\" ? \"\" : \"?\") +\r\n      `${searchParams.toString()}`;\r\n    history.pushState(state, title, newUrl);\r\n    this.setDocumentTitle(title);\r\n  }\r\n\r\n  static changeNsfwPart(value) {\r\n    const searchParams = new URLSearchParams(window.location.search);\r\n    searchParams.set(\"isNsfw\", value);\r\n    const state = { data: \"optional state object\" };\r\n    const title = this.WELCOME_TITLE;\r\n\r\n    const newUrl =\r\n      `${document.location.pathname}` +\r\n      (searchParams.toString() === \"\" ? \"\" : \"?\") +\r\n      `${searchParams.toString()}`;\r\n    history.pushState(state, title, newUrl);\r\n    this.setDocumentTitle(title);\r\n  }\r\n\r\n  static itemsPerFlexRow(container) {\r\n    const children = Array.from(container.children);\r\n    const rows = {};\r\n\r\n    children.forEach((child) => {\r\n      const top = child.offsetTop;\r\n      if (!rows[top]) {\r\n        rows[top] = [];\r\n      }\r\n      rows[top].push(child);\r\n    });\r\n\r\n    return Object.values(rows).map((rowItems) => rowItems.length);\r\n  }\r\n}\r\n","import { Utilities } from \"./Utilities\";\r\n\r\n// Host URL for API requests\r\nconst host = \"https://naslku.synology.me/gposesXplorerAPI/\";\r\n\r\n// Main entry point: runs when DOM is fully loaded\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  handleInitialLoad();\r\n});\r\n\r\nasync function handleInitialLoad() {\r\n  Utilities.setIsNsfw();\r\n  Utilities.initMainParts(host);\r\n\r\n  addNavigateSuccess(() => Utilities.loadContent(host));\r\n  Utilities.loadContent(host);\r\n}\r\n\r\nfunction addNavigateSuccess(f) {\r\n  if (window.navigation) {\r\n    window.navigation.removeEventListener(\"navigatesuccess\", f);\r\n    window.navigation.addEventListener(\"navigatesuccess\", f);\r\n  } else {\r\n    // Initialize fallback with robust guard\r\n    if (!window._navigationFallback) {\r\n      Object.defineProperty(window, \"_navigationFallback\", {\r\n        value: {\r\n          handlers: new Set(),\r\n          setup() {\r\n            // Avoid double-patching\r\n            if (history.pushState._isMonkeyPatched) return;\r\n\r\n            // Patch pushState/replaceState\r\n            const originalPushState = history.pushState;\r\n            history.pushState = function (...args) {\r\n              originalPushState.apply(this, args);\r\n              window.document.title = args[1];\r\n              window.dispatchEvent(\r\n                new CustomEvent(\"fallbacknavigate\", {\r\n                  detail: { url: window.location.href, state: args[0] },\r\n                })\r\n              );\r\n            };\r\n            history.pushState._isMonkeyPatched = true;\r\n\r\n            history.replaceState = function (...args) {\r\n              originalPushState.apply(this, args);\r\n              window.document.title = args[1];\r\n              window.dispatchEvent(\r\n                new CustomEvent(\"fallbacknavigate\", {\r\n                  detail: { url: window.location.href, state: args[0] },\r\n                })\r\n              );\r\n            };\r\n            history.replaceState._isMonkeyPatched = true;\r\n\r\n            // Unified event handler\r\n            const handler = () => {\r\n              const event = {\r\n                destination: { url: window.location.href },\r\n                state: history.state,\r\n              };\r\n              window._navigationFallback.handlers.forEach((cb) => cb(event));\r\n            };\r\n            window.addEventListener(\"popstate\", handler);\r\n            window.addEventListener(\"hashchange\", handler);\r\n            window.addEventListener(\"fallbacknavigate\", handler);\r\n          },\r\n        },\r\n        writable: false,\r\n        configurable: false,\r\n      });\r\n      window._navigationFallback.setup();\r\n    }\r\n\r\n    // Register handler\r\n    window._navigationFallback.handlers.delete(f);\r\n    window._navigationFallback.handlers.add(f);\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}