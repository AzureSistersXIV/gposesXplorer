{"version":3,"file":"bundle.js","sources":["../bundle/ElementFactory.js","../bundle/Utilities.js","../bundle/FetchFactory.js","../bundle/Events.js"],"sourcesContent":["/**\r\n * ElementFactory is a utility class for creating common DOM elements\r\n * used in the Gposes application, such as headers, navigation bars, subheaders, and repositories.\r\n */\r\nexport class ElementFactory {\r\n  /**\r\n   * Creates the main header element for the application.\r\n   * The header contains a navigation bar.\r\n   * @returns {HTMLElement} The header element.\r\n   */\r\n  static createHeader() {\r\n    const header = document.createElement(\"header\");\r\n    // Append the navigation bar to the header\r\n    header.appendChild(this.createNavbar());\r\n\r\n    return header;\r\n  }\r\n\r\n  static createSpinner() {\r\n    // Loading Indicators\r\n    // Accessible status messages\r\n    const spinnerLoad = document.createElement(\"div\");\r\n    spinnerLoad.id = \"spinnerLoad\";\r\n    spinnerLoad.className = \"loading-text\";\r\n    spinnerLoad.setAttribute(\"role\", \"status\");\r\n    spinnerLoad.setAttribute(\"aria-live\", \"polite\");\r\n    spinnerLoad.innerHTML = \"Loading<div id='progressMore'></div>\";\r\n\r\n    const spinnerNumber = document.createElement(\"div\");\r\n    spinnerNumber.id = \"spinnerNumber\";\r\n    spinnerNumber.className = \"loading-text\";\r\n    spinnerNumber.setAttribute(\"aria-live\", \"polite\");\r\n\r\n    const spinnersContainer = document.createElement(\"div\");\r\n    spinnersContainer.id = \"spinner\";\r\n    spinnersContainer.className = spinnersContainer.id + \" loading\";\r\n    spinnersContainer.appendChild(spinnerLoad);\r\n    spinnersContainer.appendChild(spinnerNumber);\r\n\r\n    return spinnersContainer;\r\n  }\r\n\r\n  /**\r\n   * Creates a navigation bar element.\r\n   * The navigation bar contains a heading with the text \"Gposes\".\r\n   * @returns {HTMLElement} The nav element.\r\n   */\r\n  static createNavbar() {\r\n    const nav = document.createElement(\"nav\");\r\n    // Assign the 'navbar' class to the nav element\r\n    nav.classList = \"navbar\";\r\n    // Set an ARIA role description for accessibility\r\n    nav.ariaRoleDescription = \"Navigation bar\";\r\n\r\n    // Create and append the heading to the nav\r\n    const h2 = document.createElement(\"h2\");\r\n    h2.innerText = \"Gposes\";\r\n    nav.appendChild(h2);\r\n\r\n    return nav;\r\n  }\r\n\r\n  static createRepository() {\r\n    const repo = document.createElement(\"div\");\r\n    repo.classList = \"repository\";\r\n    return repo;\r\n  }\r\n\r\n  static createSourceFolder(name = \"\", preview = \"\") {\r\n    const folder = document.createElement(\"div\");\r\n    folder.dataset.title = name.split(\"/\")[0];\r\n    folder.dataset.link = name;\r\n    folder.id = `source_${name.split(\"/\")[0].replace(\" \", \"\")}`;\r\n    folder.className = \"card\";\r\n\r\n    const container = document.createElement(\"div\");\r\n    container.classList = \"img-div\";\r\n    folder.append(container);\r\n\r\n    const img = document.createElement(\"img\");\r\n    img.src = preview;\r\n    if (preview === \"../assets/img/folder.png\") img.classList = \"folder\";\r\n    container.appendChild(img);\r\n\r\n    img.onload = function () {\r\n      if (img.naturalHeight < 250) {\r\n        img.classList = \"fullheight\";\r\n        container.style.display = \"flex\";\r\n        container.style.justifyContent = \"center\";\r\n      }\r\n    };\r\n\r\n    const overlay = document.createElement(\"div\");\r\n    overlay.classList = \"overlay\";\r\n    container.appendChild(overlay);\r\n\r\n    return folder;\r\n  }\r\n\r\n  static createPicture(host = \"\", link = \"\", preview = \"\") {\r\n    const folder = document.createElement(\"div\");\r\n    folder.dataset.title = link.split(\"/\").pop();\r\n    folder.id = `picture_${link.split(\"/\")[0].replace(\" \", \"\")}`;\r\n    folder.className = \"card\";\r\n\r\n    const container = document.createElement(\"a\");\r\n    container.classList = \"img-div\";\r\n    container.href = link.replace(\"../\", host);\r\n    container.target = \"_blank\";\r\n    folder.append(container);\r\n\r\n    const img = document.createElement(\"img\");\r\n    img.src = preview.replace(\"../\", host);\r\n    img.loading = \"lazy\";\r\n    container.appendChild(img);\r\n\r\n    img.onload = function () {\r\n      if (img.naturalHeight < 250) {\r\n        img.classList = \"fullheight\";\r\n        container.style.display = \"flex\";\r\n        container.style.justifyContent = \"center\";\r\n      }\r\n    };\r\n\r\n    return folder;\r\n  }\r\n}\r\n","export class Utilities {\r\n  static isNsfw = false;\r\n\r\n  /**\r\n   * Sets NSFW (Not Safe For Work) flag based on URL parameters.\r\n   * @function setIsNsfw\r\n   * @description Checks both welcome page status and \"isNsfw\" query parameter.\r\n   * Modifies global `isNsfw` variable.\r\n   * @note Requires `isWelcomePage()` to be true for NSFW flag activation\r\n   */\r\n  static setIsNsfw() {\r\n    const searchParams = new URLSearchParams(window.location.search);\r\n    this.isNsfw = this.isWelcomePage() && searchParams.get(\"isNsfw\") === \"true\";\r\n  }\r\n\r\n  /**\r\n   * Determines if current page is the welcome page.\r\n   * @function isWelcomePage\r\n   * @returns {boolean} True if document title matches welcome page title\r\n   * @example\r\n   * // When title is \"Welcome | ComEx\"\r\n   * isWelcomePage();  // Returns true\r\n   */\r\n  static isWelcomePage() {\r\n    return document.title === \"Welcome | Gposes Xplorer\";\r\n  }\r\n}\r\n","// Import the ElementFactory module for creating DOM elements\r\nimport { Utilities } from \"./Utilities\";\r\n\r\n/**\r\n * FetchFactory is responsible for handling API requests related to sources\r\n * and updating the DOM with the fetched data.\r\n */\r\nexport class FetchFactory {\r\n  static async fetchSources(host) {\r\n    Utilities.setIsNsfw();\r\n\r\n    return await fetch(`${host}api/sources.php?isNsfw=${Utilities.isNsfw}`)\r\n      .then((res) => res.json())\r\n      .then((sources) => {\r\n        if (Object.entries(sources).length > 0) {\r\n          return Object.entries(sources);\r\n        } else {\r\n          throw new Exception(\"No folder available !\");\r\n        }\r\n      })\r\n      .catch((err) => console.error(\"Failed to fetch sources :\", err.message));\r\n  }\r\n\r\n  static async fetchFolders(host, folder) {\r\n    return await fetch(`${host}api/folders.php`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      body: new URLSearchParams({ source: folder.dataset.link }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((folders) => {\r\n        if (Object.entries(folders).length > 0) {\r\n          return Object.entries(folders);\r\n        } else {\r\n          return [];\r\n        }\r\n      })\r\n      .catch((err) => console.error(\"Failed to fetch folders :\", err.message));\r\n  }\r\n\r\n  static async fetchThumbnails(host, folder) {\r\n\r\n    return await fetch(`${host}api/thumbnails.php`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      body: new URLSearchParams({ source: folder.dataset.link }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((thumbnails) => {\r\n        if (Object.entries(thumbnails).length > 0) {\r\n          return Object.entries(thumbnails);\r\n        } else {\r\n          return [];\r\n        }\r\n      })\r\n      .catch((err) => console.error(\"Failed to fetch folders :\", err.message));\r\n  }\r\n}\r\n","import { ElementFactory } from \"./ElementFactory\";\r\nimport { FetchFactory } from \"./FetchFactory\";\r\n\r\nconst host = \"https://naslku.synology.me/gposesXplorerAPI/\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  // Header of the page.\r\n  document.body.appendChild(ElementFactory.createHeader());\r\n\r\n  const idSpinner = enableLoading();\r\n  FetchFactory.fetchSources(host).then((sources) => {\r\n    if (sources.length > 0) {\r\n      const repository = ElementFactory.createRepository();\r\n      document.body.appendChild(repository);\r\n\r\n      Array.from(sources).forEach((source) => {\r\n        let preview;\r\n        if (source[1] !== \"../assets/img/folder.png\") {\r\n          preview = source[1].replace(\"../\", host);\r\n        } else {\r\n          preview = \"../assets/img/folder.png\";\r\n        }\r\n\r\n        let sourceFolder = ElementFactory.createSourceFolder(\r\n          source[0],\r\n          preview\r\n        );\r\n        repository.appendChild(sourceFolder);\r\n\r\n        addClickEvent(sourceFolder);\r\n      });\r\n\r\n      disableLoading(idSpinner);\r\n    }\r\n  });\r\n});\r\n\r\nfunction addClickEvent(source) {\r\n  const repository = document.querySelector(\".repository\");\r\n  source.addEventListener(\"click\", function (event) {\r\n    repository.innerHTML = \"\";\r\n    const idSpinner = enableLoading();\r\n    FetchFactory.fetchFolders(host, event.currentTarget).then((entries) => {\r\n      if (entries.length > 0) {\r\n        Array.from(entries).forEach((entry) => {\r\n          let folder = ElementFactory.createSourceFolder(entry[0], entry[1]);\r\n          addClickEvent(folder);\r\n          repository.appendChild(folder);\r\n        });\r\n      }\r\n    });\r\n    FetchFactory.fetchThumbnails(host, event.currentTarget).then((entries) => {\r\n      if (entries.length > 0) {\r\n        Array.from(entries).forEach((entry) => {\r\n          let folder = ElementFactory.createPicture(host, entry[1][0], entry[1][1]);\r\n          repository.appendChild(folder);\r\n        });\r\n        disableLoading(idSpinner);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nfunction enableLoading(){\r\n  const spinner = ElementFactory.createSpinner();\r\n  let id = Math.random();\r\n  spinner.id = id;\r\n  document.body.appendChild(spinner);\r\n  \r\n  return id;\r\n}\r\n\r\nfunction disableLoading(id){\r\n  const spinner = document.getElementById(id);\r\n  spinner.remove();\r\n}"],"names":[],"mappings":"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"}